jQuery(function(s){function n(e){e&&(location.href=e)}s(".flw-simple-pay-now-form").each(function(){let o=s(this);o.on("submit",function(e){e.preventDefault();var t,e=o.find("button"),l=(e.prop("disabled",!0),o.find('input[type="*"]'));let a=!0;l.each(function(){var e=s(this).val();"string"==typeof e&&""===e.trim()&&(a=!1,s(this).attr("style","border-color: red")),"number"===s(this).attr("type")&&NaN===parseInt(e)&&(a=!1,s(this).attr("style","border-color: red"))}),a?(l=function(e){var t=s(e).data(),l=1==t.split_name?.replace(/"|'/g,"");let a="";a=l?(t.firstname?.replace(/"|'/g,"")||s(e).find("#flw-first-name").val())+" "+(t.lastname?.replace(/"|'/g,"")||s(e).find("#flw-last-name").val()):s(e).find("#flw-full-name").val();var l=t.phone?.replace(/"|'/g,"")||s(e).find("#flw-phone").val(),o=t.amount?.replace(/"|'/g,"")||s(e).find("#flw-amount").val(),n=t.email?.replace(/"|'/g,"")||s(e).find("#flw-customer-email").val(),r=t.custom_currency?.replace(/"|'/g,"")||s(e).find("#flw-currency").val(),t=3<t.custom_currency?.replace(/"|'/g,"").length?s(e).find("#flw-currency").val():r,r=e.attr("id"),e="WP_"+r.toUpperCase()+"_"+(new Date).valueOf(),i=flw_pay_options.countries[t]||flw_pay_options.countries.NGN;window.location.origin;return{amount:o,country:i,currency:t??flw_pay_options.currency,customer:{email:n,phone_number:l??null,name:a},payment_options:flw_pay_options.method,public_key:flw_pay_options.public_key,tx_ref:e,customizations:{title:flw_pay_options.title,description:flw_pay_options.desc,logo:flw_pay_options.logo},form_id:r}}(o),console.log(l),l=l,t=o,t={action:"get_payment_url",flw_sec_code:s(t).find("#flw_sec_code").val()},t=Object.assign({},t,l),s.post(flw_pay_options.cb_url,t).success(function(e){var t;"error"===e.status?s(".flw-error").html(e.message).attr("style","color:red"):((t=s("#flutterwave-overlay")).addClass("flutterwave-overlay"),s("#flw-overlay-text").addClass("flw-overlay-text"),t.show(),n(e.url))})):(e.effect("shake",{times:2},300),e.prop("disabled",!1))})})});
